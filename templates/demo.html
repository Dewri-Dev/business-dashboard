<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Demo | Business Health Dashboard</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-slate-50 text-slate-800 font-sans p-4 md:p-6 min-h-screen flex flex-col">

    <!-- Demo Banner -->
    <div class="bg-indigo-600 text-white text-center py-2 px-4 rounded-lg shadow-md mb-6 flex justify-center items-center gap-2 max-w-6xl mx-auto w-full">
        <i data-lucide="info" class="w-5 h-5 text-indigo-200"></i>
        <span class="text-sm font-medium">You are viewing an interactive demo with simulated data.</span>
        <a href="/" class="ml-4 text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded-full transition">Exit Demo</a>
    </div>

    <div class="max-w-6xl mx-auto w-full flex-grow">
        
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-3xl font-bold text-slate-900">Dashboard <span class="text-slate-400 font-medium text-xl ml-2">Sandbox</span></h1>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            
            <!-- Left Column: Simulate Adding Data -->
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-amber-100 text-amber-700 text-xs font-bold px-3 py-1 rounded-bl-lg">SIMULATED</div>
                <h2 class="text-xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-sky-500"></i>
                    Add Record
                </h2>
                
                <form id="demoForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-600 mb-1">Date</label>
                        <input type="date" id="dateInput" required class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none transition">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-600 mb-1">Revenue (₹)</label>
                        <input type="number" id="revenueInput" value="45000" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none transition">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-600 mb-1">Expenses (₹)</label>
                        <input type="number" id="expensesInput" value="12000" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none transition">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-600 mb-1">Inventory Cost (₹)</label>
                        <input type="number" id="inventoryInput" value="8000" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 outline-none transition">
                    </div>
                    <button type="submit" id="demoBtn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-4 rounded-lg transition mt-4 shadow-md shadow-sky-500/20">
                        Simulate Transaction
                    </button>
                    <p id="statusMessage" class="text-sm text-center mt-2 hidden"></p>
                </form>
            </div>

            <!-- Right Column: Mock Overview -->
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl font-bold text-slate-800 flex items-center gap-2">
                        <i data-lucide="pie-chart" class="w-5 h-5 text-indigo-500"></i>
                        Overview
                    </h2>
                    <span class="bg-emerald-100 text-emerald-700 text-xs font-bold px-3 py-1 rounded-full flex items-center gap-1">
                        Score: 88 <i data-lucide="trending-up" class="w-3 h-3"></i>
                    </span>
                </div>
                
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Total Revenue</p>
                        <p class="text-2xl font-bold text-slate-800" id="mockRev">₹845,000</p>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Total Expenses</p>
                        <p class="text-2xl font-bold text-slate-800" id="mockExp">₹320,000</p>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Net Profit</p>
                        <p class="text-2xl font-bold text-emerald-600" id="mockProf">₹525,000</p>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-xl text-center border border-slate-100">
                        <p class="text-xs font-bold text-slate-400 uppercase tracking-wider mb-1">Margin</p>
                        <p class="text-2xl font-bold text-slate-800" id="mockMarg">62.1%</p>
                    </div>
                </div>

                <h3 class="text-lg font-bold text-slate-800 mb-3 flex items-center gap-2">
                    <i data-lucide="bell" class="w-4 h-4 text-amber-500"></i> Alerts & Insights
                </h3>
                <div class="space-y-2">
                    <div class="text-sm bg-emerald-50 text-emerald-800 p-3 rounded-lg border border-emerald-100 flex items-start gap-2">
                        <i data-lucide="check-circle" class="w-4 h-4 mt-0.5 flex-shrink-0"></i>
                        <span>Excellent profit margin! You are operating well above the 20% healthy threshold.</span>
                    </div>
                    <div class="text-sm bg-amber-50 text-amber-800 p-3 rounded-lg border border-amber-100 flex items-start gap-2">
                        <i data-lucide="alert-triangle" class="w-4 h-4 mt-0.5 flex-shrink-0"></i>
                        <span>Inventory costs have risen 12% this month. Keep an eye on supply chain expenses.</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Row: Trends Chart -->
        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100 mb-10">
            <h2 class="text-xl font-bold text-slate-800 mb-6 flex items-center gap-2">
                <i data-lucide="line-chart" class="w-5 h-5 text-rose-500"></i>
                Performance Trends (6 Months)
            </h2>
            <div class="w-full h-72">
                <canvas id="demoChart"></canvas>
            </div>
        </div>

    </div>

    <script>
        // Initialize Icons
        lucide.createIcons();
        document.getElementById('dateInput').valueAsDate = new Date();

        // Render Mock Chart
        const ctx = document.getElementById('demoChart').getContext('2d');
        let demoChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [
                    {
                        label: 'Revenue (₹)',
                        data: [120000, 135000, 125000, 150000, 180000, 210000],
                        borderColor: '#0ea5e9', // sky-500
                        backgroundColor: 'rgba(14, 165, 233, 0.15)',
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#0ea5e9',
                    },
                    {
                        label: 'Expenses (₹)',
                        data: [45000, 50000, 48000, 55000, 60000, 62000],
                        borderColor: '#f43f5e', // rose-500
                        borderDash: [5, 5],
                        fill: false,
                        tension: 0.4,
                        pointBackgroundColor: '#f43f5e',
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                    x: { grid: { display: false } }
                }
            }
        });

        // Simulate Form Submission
        document.getElementById('demoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const btn = document.getElementById('demoBtn');
            const statusMsg = document.getElementById('statusMessage');
            
            btn.disabled = true;
            btn.innerHTML = '<i data-lucide="loader-2" class="w-5 h-5 animate-spin mx-auto"></i>';
            lucide.createIcons();

            // Fake API delay
            setTimeout(() => {
                btn.disabled = false;
                btn.innerHTML = 'Simulate Transaction';
                
                statusMsg.innerText = "✅ Mock transaction saved! (Database not actually modified)";
                statusMsg.className = "text-sm text-center mt-3 text-emerald-600 font-medium block";
                
                // Update mock totals to simulate the UI reacting
                let rev = 845000 + parseFloat(document.getElementById('revenueInput').value);
                let exp = 320000 + parseFloat(document.getElementById('expensesInput').value);
                let prof = rev - exp;
                let marg = (prof / rev * 100).toFixed(1);

                document.getElementById('mockRev').innerText = `₹${rev.toLocaleString()}`;
                document.getElementById('mockExp').innerText = `₹${exp.toLocaleString()}`;
                document.getElementById('mockProf').innerText = `₹${prof.toLocaleString()}`;
                document.getElementById('mockMarg').innerText = `${marg}%`;

                // Add data to chart and update
                demoChart.data.labels.push('Now');
                demoChart.data.datasets[0].data.push(rev/4); // Scaled down for chart visuals
                demoChart.data.datasets[1].data.push(exp/4);
                demoChart.update();

                setTimeout(() => { statusMsg.classList.add('hidden'); }, 4000);
            }, 800);
        });
    </script>
</body>
</html>